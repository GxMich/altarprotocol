<!DOCTYPE html>
<html lang="it" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Altar Protocol</title>
  
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="background-glow"></div>

  <nav class="glass-nav">
    <div class="nav-brand">ALTAR</div>
    <div class="nav-controls">
      <button class="icon-btn" onclick="toggleTheme()" aria-label="Toggle Theme" style="display: none;">
        <i class="ph ph-sun" id="themeIcon"></i>
      </button>
      <button class="lang-btn" onclick="toggleLanguage()">
        <span id="currentLang">IT</span>
      </button>
    </div>
  </nav>

  <main class="container">
    <header class="hero-text">
      <h1 data-i18n="title">Altar Protocol</h1>
      <p class="tagline" data-i18n="tagline">Control the Signal</p>
    </header>

    <section id="kingBox" class="glass-card hero-card">
      <div class="card-header">
        <span class="label" data-i18n="currentOrigin">Current Origin</span>
        <div class="status-indicator pulse"></div>
      </div>
      <div class="king-content">
        <h2 id="kingAlias">Loading...</h2>
        <div id="kingPower" class="power-display">--- ETH</div>
      </div>
      <button onclick="defend()" class="btn btn-secondary">
        <i class="ph-bold ph-shield-check"></i> <span data-i18n="btnDefend">Defend Signal</span>
      </button>
    </section>

    <section class="action-grid">
      <div class="input-group">
        <i class="ph ph-user input-icon"></i>
        <input id="aliasInput" type="text" placeholder="Alias" data-i18n-placeholder="phAlias" autocomplete="off">
      </div>
      <div class="input-group">
        <i class="ph ph-currency-eth input-icon"></i>
        <input id="amountInput" type="number" step="0.01" placeholder="0.00 ETH">
      </div>
      <button onclick="ascend()" class="btn btn-primary">
        <span data-i18n="btnAscend">Ascend</span> <i class="ph-bold ph-arrow-right"></i>
      </button>
    </section>

    <section class="board-section">
      <h3 data-i18n="hierarchy">Signal Hierarchy</h3>
      <ul id="board" class="glass-list"></ul>
    </section>
  </main>

  <footer class="legal-footer">
    <div class="footer-links">
      <button onclick="openModal('terms')" data-i18n="linkTerms">Termini & Condizioni</button>
      <span class="divider">|</span>
      <button onclick="openModal('privacy')" data-i18n="linkPrivacy">Privacy Policy</button>
      <span class="divider">|</span>
      <button onclick="openModal('disclaimer')" data-i18n="linkDisclaimer">Disclaimer</button>
    </div>
    <p class="copyright">Â© 2024 Altar Protocol. Decentralized Experiment.</p>
  </footer>

  <dialog id="legalModal" class="glass-modal">
    <div class="modal-header">
      <h3 id="modalTitle">Title</h3>
      <button onclick="closeModal()" class="close-btn"><i class="ph ph-x"></i></button>
    </div>
    <div class="modal-body" id="modalContent">
      </div>
  </dialog>

  <div id="override"><div class="override-content"><i class="ph-duotone ph-lightning override-icon"></i><h2 data-i18n="usurpation">Usurpation Detected</h2><span id="overrideText"></span></div></div>
  <div id="toastContainer"></div>

  <script src="app.js"></script>
</body>
</html>